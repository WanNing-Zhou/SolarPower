import{d as S,u as M,r as h,b as n,e as s,j as p,g as v,f as e,a as t,k as R,p as q,i as A,_ as w,l as E,m as F,n as T,o as U,F as N,q as I,E as j,t as z,c as $,v as B,h as G}from"./index-313e5491.js";import{_ as J,l as K}from"./UpdatePassword.vue_vue_type_script_setup_true_lang-bf3b5d14.js";import{g as Q}from"./user-d97a62ac.js";import{g as W}from"./findDataUtils-7343f3bc.js";import{g as X}from"./suer-3d73a000.js";const H=i=>(q("data-v-7fb4d797"),i=i(),A(),i),Y={class:"header"},Z=H(()=>v("div",{class:"left"},"分布式光伏电站发电量检测管理系统",-1)),ee=H(()=>v("div",null,"操作",-1)),te={key:0,class:"option-box"},ne=S({__name:"HeaderLaout",setup(i){M();const u=h(!1),l=h(!1),_=()=>{l.value=!0},o=async()=>{K()};return(b,a)=>{const g=n("el-menu-item"),C=n("el-menu");return s(),p("div",Y,[Z,v("div",{class:"right",onClick:a[0]||(a[0]=x=>u.value=!u.value)},[ee,u.value?(s(),p("div",te,[e(C,null,{default:t(()=>[e(g,null,{default:t(()=>[v("div",{style:{width:"100%"},onClick:_},"修改密码")]),_:1}),e(g,null,{default:t(()=>[v("div",{style:{width:"100%"},onClick:o},"登出")]),_:1})]),_:1})])):R("",!0)]),e(J,{visible:l.value,"onUpdate:visible":a[1]||(a[1]=x=>l.value=x)},null,8,["visible"])])}}});const oe=w(ne,[["__scopeId","data-v-7fb4d797"]]),ae={class:"side-layout"},se=S({__name:"SideLayout",setup(i){const u=E(),l=h(),_=F(),o=h([]),b=T(()=>o.value.length?"point_"+o.value[0].children[0].id:null),a=m=>{_.setStatus(m)},g=M(),C=async()=>{const k=(await Q()).data.permission.stationIds,L=await X();let y=W(k,L.data);if(o.value=y,!y.length){j.warning("当前角色无访问权限,请联系管理员添加");return}z(()=>{const f=o.value[0],c=o.value[0].children[0];l.value.open("comp_"+o.value[0].id),_.setStatus({companyId:f.id,companyName:f.label,stationId:c.id,stationName:c.label}),g.replace({path:"/datashow/"+c.id+"/"+c.label,query:{compId:f.id,pointId:c.id,pointName:c.label}})})};U(()=>{C()});const x=(m,k)=>{},V=(m,k)=>{u.commit("setcompanyNumber",m)};return(m,k)=>{const L=n("OfficeBuilding"),y=n("el-icon"),f=n("el-menu-item"),c=n("Place"),D=n("router-link"),O=n("el-sub-menu"),P=n("el-menu");return s(),p("div",ae,[e(P,{ref_key:"menuRef",ref:l,collapse:!1,"background-color":"#0B2D4D","text-color":"#ffffff","active-text-color":"#ffd04b",onOpen:x,onClose:V,"default-active":b.value},{default:t(()=>[(s(!0),p(N,null,I(o.value,r=>(s(),$(O,{index:"comp_"+r.id},{title:t(()=>[e(f,{index:"comp_"+r.id},{default:t(()=>[e(y,null,{default:t(()=>[e(L)]),_:1}),v("div",null,B(r.label),1)]),_:2},1032,["index"])]),default:t(()=>[(s(!0),p(N,null,I(r.children,d=>(s(),$(f,{onClick:re=>a({stationId:d.id,companyId:r.id,stationName:d.label,companyName:r.label}),index:"point_"+d.id},{default:t(()=>[e(y,null,{default:t(()=>[e(c)]),_:1}),e(D,{class:"menu-item",to:{path:"/datashow/"+d.id+"/"+d.label,query:{compId:r.id,pointId:d.id,pointName:d.label}}},{default:t(()=>[G(B(d.label),1)]),_:2},1032,["to"])]),_:2},1032,["onClick","index"]))),256))]),_:2},1032,["index"]))),256))]),_:1},8,["default-active"])])}}});const le=w(se,[["__scopeId","data-v-de48ab3d"]]),_e={class:"main-layout"},ce=S({__name:"MainLayout",setup(i){return h(window.innerHeight-80),(u,l)=>{const _=n("router-view");return s(),p("div",_e,[e(_)])}}});const de=w(ce,[["__scopeId","data-v-bd976b38"]]),ie={class:"common-layout"},ue=S({__name:"Layout",setup(i){return(u,l)=>{const _=n("el-header"),o=n("el-aside"),b=n("el-main"),a=n("el-container");return s(),p("section",ie,[e(a,null,{default:t(()=>[e(_,null,{default:t(()=>[e(oe)]),_:1}),e(a,null,{default:t(()=>[e(o,{style:{"background-color":"white"},width:"250px"},{default:t(()=>[e(le)]),_:1}),e(a,null,{default:t(()=>[e(b,null,{default:t(()=>[e(de)]),_:1})]),_:1})]),_:1})]),_:1})])}}});const he=w(ue,[["__scopeId","data-v-06d61d9b"]]);export{he as default};
