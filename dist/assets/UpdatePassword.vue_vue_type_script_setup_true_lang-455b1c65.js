import{u as V}from"./user-6c997152.js";import{d as P,l as b,r as g,c as y,a as s,b as d,o as U,f as x,e as o,g as B,E as u}from"./index-885010f6.js";const N=P({__name:"UpdatePassword",props:{visible:{type:Boolean}},emits:["update:visible"],setup(p,{emit:i}){const w=p,f=i,m=b({get(){return w.visible},set(){f("update:visible",!1)}}),l=g({oldPassword:"",newPassword:"",rePassword:""}),_=async()=>{const{oldPassword:r,newPassword:e,rePassword:t}=l.value;if(!e||!r){u.warning("密码不能为空");return}if(e!=t){u.warning("新密码两次输入不一致");return}await V({oldPassword:r,newPassword:e}),u.success("修改成功")};return(r,e)=>{const t=d("el-input"),n=d("el-form-item"),c=d("el-button"),v=d("el-dialog");return U(),y(v,{modelValue:m.value,"onUpdate:modelValue":e[3]||(e[3]=a=>m.value=a),title:"修改密码"},{default:s(()=>[x("div",null,[o(n,{label:"旧密码"},{default:s(()=>[o(t,{modelValue:l.value.oldPassword,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.oldPassword=a),type:"password"},null,8,["modelValue"])]),_:1}),o(n,{label:"新密码"},{default:s(()=>[o(t,{modelValue:l.value.newPassword,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.newPassword=a),type:"password"},null,8,["modelValue"])]),_:1}),o(n,{label:"确认密码"},{default:s(()=>[o(t,{modelValue:l.value.rePassword,"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.rePassword=a),type:"password"},null,8,["modelValue"])]),_:1}),o(n,null,{default:s(()=>[o(c,{onClick:_,type:"primary"},{default:s(()=>[B("提交")]),_:1})]),_:1})])]),_:1},8,["modelValue"])}}});export{N as _};
